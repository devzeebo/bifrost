{{if .Error}}
<div class="page-header">
  <h1>Realm Not Found</h1>
</div>
<div class="card">
  <div class="card-body">
    <p class="text-muted">{{.Error}}</p>
    <a href="/admin/realms" class="btn btn-primary">Back to Realms</a>
  </div>
</div>
{{else}}
<div class="page-header">
  <h1>{{.Data.Realm.Name}}</h1>
  <p class="text-muted">{{.Data.Realm.RealmID}}</p>
</div>

<div class="card">
  <div class="card-header">
    <h2>Details</h2>
    <span class="badge badge-{{.Data.Realm.Status}}">{{.Data.Realm.Status}}</span>
  </div>
  <div class="card-body">
    <dl class="dl-horizontal">
      <dt>ID</dt>
      <dd>{{.Data.Realm.RealmID}}</dd>
      <dt>Name</dt>
      <dd>{{.Data.Realm.Name}}</dd>
      <dt>Status</dt>
      <dd>{{.Data.Realm.Status}}</dd>
      <dt>Created</dt>
      <dd>{{.Data.Realm.CreatedAt}}</dd>
    </dl>

    {{if eq .Data.Realm.Status "active"}}
    <form method="post" action="/admin/realms/{{.Data.Realm.RealmID}}/suspend" class="form-inline mt-2">
      <input type="text" name="reason" placeholder="Reason for suspension (optional)" class="form-control">
      <button type="submit" class="btn btn-danger">Suspend Realm</button>
    </form>
    {{end}}
  </div>
</div>

<div class="card">
  <div class="card-header">
    <h2>Members ({{len .Data.Members}})</h2>
  </div>
  <div class="card-body">
    {{if .Data.Members}}
    <table class="table">
      <thead>
        <tr>
          <th>Username</th>
          <th>Role</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {{range .Data.Members}}
        <tr>
          <td><a href="/admin/accounts/{{.AccountID}}">{{.Username}}</a></td>
          <td>{{index .Roles $.Data.Realm.RealmID}}</td>
          <td><span class="badge badge-{{.Status}}">{{.Status}}</span></td>
        </tr>
        {{end}}
      </tbody>
    </table>
    {{else}}
    <p class="text-muted">No members in this realm</p>
    {{end}}
  </div>
</div>

<a href="/admin/realms" class="btn btn-secondary">Back to Realms</a>
{{end}}
